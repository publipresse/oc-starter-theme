url = "/contact"
layout = "default"
title = "Contact"
is_hidden = 0
seoOptionsEnabledInSitemap = 1
seoOptionsUseUpdatedAt = "true"
seoOptionsRobotIndex = "index"
seoOptionsRobotFollow = "follow"
seoOptionsOgCard = "summary-large-image"

[uploadForm contact]
group = "Formulaire de contact"
rules[Nom] = "required"
rules[Prénom] = "required"
rules[Email] = "required|email"
rules[Message] = "required"
messages_success = "Votre formulaire a été envoyé avec succès"
messages_errors = "Il y a eu des erreurs dans votre formulaire"
mail_enabled = 1
mail_subject = "[{{ record.date }}] - {{ form.Prénom }} {{ form.Nom }} - Formulaire de contact"
mail_replyto = "Email"
mail_uploads = 1
reset_form = 1
redirect = "/merci"
inline_errors = "display"
sanitize_data = "disabled"
anonymize_ip = "disabled"
recaptcha_enabled = 1
recaptcha_theme = "light"
recaptcha_type = "image"
recaptcha_size = "normal"
emails_date_format = "d/m/Y"
uploader_enable = 1
uploader_multi = 1
placeholderText = "Cliquez pour choisir ou faites glisser les fichiers à télécharger"
removeText = "Êtes-vous sûr ?"
maxSize = 5
fileTypes[] = "jpg"
fileTypes[] = "jpeg"
fileTypes[] = "bmp"
fileTypes[] = "png"
fileTypes[] = "webp"
fileTypes[] = "gif"
fileTypes[] = "svg"
fileTypes[] = "js"
fileTypes[] = "map"
fileTypes[] = "ico"
fileTypes[] = "css"
fileTypes[] = "less"
fileTypes[] = "scss"
fileTypes[] = "ics"
fileTypes[] = "odt"
fileTypes[] = "doc"
fileTypes[] = "docx"
fileTypes[] = "ppt"
fileTypes[] = "pptx"
fileTypes[] = "pdf"
fileTypes[] = "swf"
fileTypes[] = "txt"
fileTypes[] = "ods"
fileTypes[] = "xls"
fileTypes[] = "xlsx"
fileTypes[] = "eot"
fileTypes[] = "woff"
fileTypes[] = "woff2"
fileTypes[] = "ttf"
fileTypes[] = "flv"
fileTypes[] = "wmv"
fileTypes[] = "mp3"
fileTypes[] = "ogg"
fileTypes[] = "wav"
fileTypes[] = "avi"
fileTypes[] = "mov"
fileTypes[] = "mp4"
fileTypes[] = "mpeg"
fileTypes[] = "webm"
fileTypes[] = "mkv"
fileTypes[] = "rar"
fileTypes[] = "zip"
==
{{ form_ajax('contact::onFormSubmit', { validate: true }) }}

    <div class="field field-text">
        <label for="contact-nom">{{ "Nom"|_ }}</label>
        <input type="text" id="contact-nom" name="Nom" autocomplete="family-name" />
        <div data-validate-for="Nom"></div>
    </div>

    <div class="field field-text">
        <label for="contact-prenom">{{ "Prénom"|_ }}</label>
        <input type="text" id="contact-prenom" name="Prénom" autocomplete="given-name" />
        <div data-validate-for="Prénom"></div>
    </div>

    <div class="field field-text">
        <label for="contact-address">{{ "Adresse"|_ }}</label>
        <input type="text" id="contact-address" name="Adresse" autocomplete="address-line1"/>
        <div data-validate-for="Adresse"></div>
    </div>

    <div class="field field-text">
        <label for="contact-cp">{{ "Code postal"|_ }}</label>
        <input type="text" id="contact-cp" name="Code postal" autocomplete="postal-code"/>
        <div data-validate-for="Code postal"></div>
    </div>

    <div class="field field-text">
        <label for="contact-city">{{ "Ville"|_ }}</label>
        <input type="text" id="contact-city" name="Ville" autocomplete="city"/>
        <div data-validate-for="Ville"></div>
    </div>

    <div class="field field-text">
        <label for="contact-email">{{ "Email"|_ }}</label>
        <input type="email" id="contact-email" name="Email" />
        <div data-validate-for="Email"></div>
    </div>

    <div class="field field-text">
        <label for="contact-telephone">{{ "Téléphone"|_ }}</label>
        <input type="tel" id="contact-telephone" name="Téléphone" autocomplete="phone" />
        <div data-validate-for="Téléphone"></div>
    </div>

    <div class="field field-textarea">
      <label for="contact-message">{{ "Message"|_ }}</label>
      <textarea name="Message" id="contact-message"></textarea>
      <div data-validate-for="Message"></div>
    </div>

    {% if contact.property('uploader_enable') %}
        {% partial '@file-upload' %}
    {% endif %}

    <div class="captcha">
        {% if (recaptcha_enabled) %}
            <div class="g-recaptcha" data-sitekey="{{ contact.settings.recaptcha_site_key }}" data-theme="{{ contact.property('recaptcha_theme') }}" data-type="{{ contact.property('recaptcha_type') }}" data-size="{{ contact.property('recaptcha_size') }}"></div>
            <div data-validate-for="g-recaptcha-response"></div>
        {% elseif (recaptcha_misconfigured) %}
            <div class="alert alert-warning">
                <button type="button" class="alert-close" onclick="this.parentElement.remove()">✖</button>
                <p>{{ recaptcha_warn }}</p>
            </div>
        {% endif %}
    </div>

    <button type="submit" data-attach-loading>{{ "Envoyez un message"|_ }}</button>

    <div id="{{ contact.alias }}_forms_flash"></div>

{{ form_close() }}